{"ast":null,"code":"var _jsxFileName = \"/home/pranav/sn-agencies/backup/sn-agencies/material-sense/src/components/Payments.js\";\nimport React, { Component } from \"react\";\nimport withStyles from \"@material-ui/styles/withStyles\";\nimport { withRouter } from \"react-router-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Config } from \"./common/Config\";\nimport AuthHandler from \"./common/AuthHandler\";\nimport TextField from '@material-ui/core/TextField';\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DoneIcon from '@material-ui/icons/Done';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Back from \"./common/Back\";\nimport Moment from 'react-moment';\nimport Timeline from '@material-ui/lab/Timeline';\nimport TimelineItem from '@material-ui/lab/TimelineItem';\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\nimport TimelineContent from '@material-ui/lab/TimelineContent';\nimport TimelineOppositeContent from '@material-ui/lab/TimelineOppositeContent';\nimport TimelineDot from '@material-ui/lab/TimelineDot';\n\nconst qs = require(\"query-string\");\n\nconst backgroundShape = require(\"../images/shape.svg\");\n\nconst numeral = require(\"numeral\");\n\nnumeral.defaultFormat(\"0,000\");\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.primary[\"A100\"],\n    overflow: \"hidden\",\n    // background: `url(${backgroundShape}) no-repeat`,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"0 400px\",\n    marginTop: 10,\n    padding: 5,\n    paddingBottom: 2\n  },\n  grid: {\n    margin: \"0 \".concat(theme.spacing(2), \"px\")\n  },\n  smallContainer: {\n    width: \"60%\"\n  },\n  bigContainer: {\n    width: \"80%\"\n  },\n  stepContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  stepGrid: {\n    width: \"80%\"\n  },\n  backButton: {\n    marginRight: theme.spacing(1)\n  },\n  outlinedButtom: {\n    textTransform: \"uppercase\",\n    margin: theme.spacing(1)\n  },\n  stepper: {\n    backgroundColor: \"transparent\"\n  },\n  paper: {\n    padding: theme.spacing(3),\n    textAlign: \"left\",\n    color: theme.palette.text.secondary\n  },\n  topInfo: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: 42\n  },\n  formControl: {\n    width: \"100%\"\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  borderColumn: {\n    borderBottom: \"1px solid \".concat(theme.palette.grey[\"100\"]),\n    paddingBottom: 24,\n    marginBottom: 24\n  },\n  flexBar: {\n    marginTop: 32,\n    display: \"flex\",\n    justifyContent: \"center\"\n  }\n});\n\nclass Payments extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activeStep: 0,\n      receivingAccount: \"Home Account\",\n      repaimentAccount: \"Saving Account\",\n      termsChecked: false,\n      amount: 1500,\n      payment: [],\n      payment_methord: 'cash',\n      labelWidth: 0\n    };\n\n    this.getPayments = () => {\n      let apiURI = '';\n      apiURI = Config.API.BASE_URL + Config.API.GET_PAYMENTS + this.props.location.data.userId + '/' + this.props.location.data.subscriptionId; // apiURI = Config.API.BASE_URL + Config.API.GET_PAYMENTS + 2 + '/' + 13751;\n\n      let authHandler = new AuthHandler();\n      let isAuthenticated = authHandler.isAuthenticated();\n      this.setState({\n        loader: true\n      });\n      fetch(apiURI, {\n        method: \"GET\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": \"Bearer \" + isAuthenticated,\n          \"cache-control\": \"no-cache\"\n        }\n      }).then(response => {\n        response.json().then(responseJson => {\n          if (response.status === 401) {\n            this.props.history.push(\"/login\");\n          }\n\n          if (!responseJson.error === null) {\n            throw responseJson;\n          }\n\n          this.setState({\n            payment: responseJson.data.payments\n          });\n          this.setState({\n            loader: false\n          });\n        }).catch(Err => {\n          if (response.status === 401) {\n            this.props.history.push(\"/login\");\n          }\n\n          this.setState({\n            displayErrors: true\n          });\n          this.setState({\n            loader: false\n          });\n        });\n      });\n    };\n\n    this.savePayment = () => {\n      let apiURI = ''; // apiURI = Config.API.BASE_URL + Config.API.GET_PAYMENTS + this.props.location.data.userId +'/' + this.props.location.data.subscriptionId;\n\n      apiURI = Config.API.BASE_URL + Config.API.GET_PAYMENTS;\n      console.log(this.props.location);\n      let userId = this.props.location.data.userId;\n      let subscriptionId = this.props.location.data.subscriptionId;\n      let authHandler = new AuthHandler();\n      let isAuthenticated = authHandler.isAuthenticated();\n      let params = {\n        userId: userId,\n        subscriptionId: subscriptionId,\n        amount_authorized: this.state.amount,\n        payment_method: this.state.payment_methord\n      };\n      this.setState({\n        loader: true\n      });\n      fetch(apiURI, {\n        method: \"POST\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": \"Bearer \" + isAuthenticated,\n          \"cache-control\": \"no-cache\"\n        },\n        body: JSON.stringify(params)\n      }).then(response => {\n        response.json().then(responseJson => {\n          if (response.status === 401) {\n            this.props.history.push(\"/login\");\n          }\n\n          if (!responseJson.error === null) {\n            throw responseJson;\n          }\n\n          this.setState({\n            payment: responseJson.data.payments\n          });\n          this.getPayments();\n          this.setState({\n            loader: false\n          });\n        }).catch(Err => {\n          if (response.status === 401) {\n            this.props.history.push(\"/login\");\n          }\n\n          this.setState({\n            displayErrors: true\n          });\n          this.setState({\n            loader: false\n          });\n        });\n      });\n    };\n\n    this.goToDashboard = event => {\n      const queryString = this.props.location.search;\n      this.props.history.push({\n        pathname: \"/\",\n        search: queryString\n      });\n    };\n\n    this.generate = element => {\n      return [0, 1, 2].map(value => React.cloneElement(element, {\n        key: value\n      }));\n    };\n\n    this.onChange = evt => {\n      this.setState({\n        amount: evt.target.value\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        payment_methord: event.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getPayments();\n  }\n\n  componentWillMount() {// this.getPayments()\n  }\n\n  render() {\n    const classes = this.props.classes;\n    const userData = this.props.location.data;\n    console.log(userData);\n    const currencies = [{\n      label: 'CASH',\n      value: 'cash'\n    }, {\n      label: 'NET BANKING',\n      value: 'net_banking'\n    }, {\n      label: 'UPI',\n      value: 'upi'\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      spacing: 1,\n      alignItems: \"center\",\n      justify: \"center\",\n      container: true,\n      className: classes.grid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Back, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(InputLabel, {\n      htmlFor: \"input-with-icon-adornment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 49\n      }\n    }, \"Make Payment\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      id: \"input-with-icon-adornment\",\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(AccountBalanceWalletIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 61\n        }\n      })),\n      value: this.state.amount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      id: \"standard-select-currency\",\n      select: true,\n      label: \"\",\n      value: this.state.payment_methord,\n      onChange: this.handleChange,\n      helperText: \"Please select your payment methord\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 49\n      }\n    }, currencies.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.value,\n      value: option.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 57\n      }\n    }, option.label)))), /*#__PURE__*/React.createElement(CardActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.savePayment,\n      size: \"small\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 49\n      }\n    }, \" Add Payment\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Timeline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 37\n      }\n    }, this.state.payment.length === 0 && \"No Transaction \", this.state.payment.length > 0 && this.state.payment.map(data => {\n      return /*#__PURE__*/React.createElement(TimelineItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(TimelineSeparator, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(TimelineDot, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 53\n        }\n      }), /*#__PURE__*/React.createElement(TimelineConnector, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(TimelineContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        elevation: 3,\n        className: classes.paper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 70\n        }\n      }, \"Paied Amount : Rs \", data.amount_authorized)), /*#__PURE__*/React.createElement(Typography, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 57\n        }\n      }, \" \", /*#__PURE__*/React.createElement(Moment, {\n        format: \"Do MMM YYYY : hh:mm A\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 70\n        }\n      }, data.created_at), \"  \"))));\n    }))))))));\n  }\n\n}\n\nexport default withRouter(withStyles(styles)(Payments));","map":{"version":3,"sources":["/home/pranav/sn-agencies/backup/sn-agencies/material-sense/src/components/Payments.js"],"names":["React","Component","withStyles","withRouter","CssBaseline","Typography","Grid","Paper","Button","Card","CardActions","CardContent","Config","AuthHandler","TextField","AccountBalanceWalletIcon","InputLabel","Input","InputAdornment","MenuItem","List","ListItem","ListItemAvatar","ListItemIcon","ListItemText","DoneIcon","DeleteIcon","Back","Moment","Timeline","TimelineItem","TimelineSeparator","TimelineConnector","TimelineContent","TimelineOppositeContent","TimelineDot","qs","require","backgroundShape","numeral","defaultFormat","styles","theme","root","flexGrow","backgroundColor","palette","primary","overflow","backgroundSize","backgroundPosition","marginTop","padding","paddingBottom","grid","margin","spacing","smallContainer","width","bigContainer","stepContainer","display","flexDirection","alignItems","stepGrid","backButton","marginRight","outlinedButtom","textTransform","stepper","paper","textAlign","color","text","secondary","topInfo","justifyContent","marginBottom","formControl","selectEmpty","borderColumn","borderBottom","grey","flexBar","Payments","state","activeStep","receivingAccount","repaimentAccount","termsChecked","amount","payment","payment_methord","labelWidth","getPayments","apiURI","API","BASE_URL","GET_PAYMENTS","props","location","data","userId","subscriptionId","authHandler","isAuthenticated","setState","loader","fetch","method","headers","then","response","json","responseJson","status","history","push","error","payments","catch","Err","displayErrors","savePayment","console","log","params","amount_authorized","payment_method","body","JSON","stringify","goToDashboard","event","queryString","search","pathname","generate","element","map","value","cloneElement","key","onChange","evt","target","handleChange","componentDidMount","componentWillMount","render","classes","userData","currencies","label","option","length","created_at"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport withStyles from \"@material-ui/styles/withStyles\";\nimport { withRouter } from \"react-router-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Config } from \"./common/Config\";\nimport AuthHandler from \"./common/AuthHandler\";\n\nimport TextField from '@material-ui/core/TextField';\n\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport DoneIcon from '@material-ui/icons/Done';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Back from \"./common/Back\";\nimport Moment from 'react-moment';\n\n\nimport Timeline from '@material-ui/lab/Timeline';\nimport TimelineItem from '@material-ui/lab/TimelineItem';\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\nimport TimelineContent from '@material-ui/lab/TimelineContent';\nimport TimelineOppositeContent from '@material-ui/lab/TimelineOppositeContent';\nimport TimelineDot from '@material-ui/lab/TimelineDot';\n\nconst qs = require(\"query-string\");\nconst backgroundShape = require(\"../images/shape.svg\");\n\nconst numeral = require(\"numeral\");\nnumeral.defaultFormat(\"0,000\");\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.primary[\"A100\"],\n        overflow: \"hidden\",\n        // background: `url(${backgroundShape}) no-repeat`,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"0 400px\",\n        marginTop: 10,\n        padding: 5,\n        paddingBottom: 2\n    },\n    grid: {\n        margin: `0 ${theme.spacing(2)}px`\n    },\n    smallContainer: {\n        width: \"60%\"\n    },\n    bigContainer: {\n        width: \"80%\"\n    },\n    stepContainer: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n    },\n    stepGrid: {\n        width: \"80%\"\n    },\n    backButton: {\n        marginRight: theme.spacing(1)\n    },\n    outlinedButtom: {\n        textTransform: \"uppercase\",\n        margin: theme.spacing(1)\n    },\n    stepper: {\n        backgroundColor: \"transparent\"\n    },\n    paper: {\n        padding: theme.spacing(3),\n        textAlign: \"left\",\n        color: theme.palette.text.secondary\n    },\n    topInfo: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: 42\n    },\n    formControl: {\n        width: \"100%\"\n    },\n    selectEmpty: {\n        marginTop: theme.spacing(2)\n    },\n    borderColumn: {\n        borderBottom: `1px solid ${theme.palette.grey[\"100\"]}`,\n        paddingBottom: 24,\n        marginBottom: 24\n    },\n    flexBar: {\n        marginTop: 32,\n        display: \"flex\",\n        justifyContent: \"center\"\n    }\n});\n\n\nclass Payments extends Component {\n    state = {\n        activeStep: 0,\n        receivingAccount: \"Home Account\",\n        repaimentAccount: \"Saving Account\",\n        termsChecked: false,\n        amount: 1500,\n        payment: [],\n        payment_methord:'cash',\n        labelWidth: 0\n    };\n\n    componentDidMount() { \n        this.getPayments()\n    }\n    \n\n    componentWillMount() {\n        // this.getPayments()\n    }\n\n    getPayments = () => {\n        let apiURI = '';\n\n        apiURI = Config.API.BASE_URL + Config.API.GET_PAYMENTS + this.props.location.data.userId +'/' + this.props.location.data.subscriptionId;\n        // apiURI = Config.API.BASE_URL + Config.API.GET_PAYMENTS + 2 + '/' + 13751;\n\n        let authHandler = new AuthHandler();\n        let isAuthenticated = authHandler.isAuthenticated();\n\n        this.setState({ loader: true });\n        fetch(apiURI, {\n            method: \"GET\",\n            headers: {\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \" + isAuthenticated,\n                \"cache-control\": \"no-cache\"\n            }\n        }).then(response => {\n            response.json()\n                .then(responseJson => {\n\n                    if (response.status === 401) {\n                        this.props.history.push(\"/login\");\n                    }\n                    if (!responseJson.error === null) {\n                        throw responseJson;\n                    }\n                    this.setState({ payment: responseJson.data.payments });\n                    this.setState({ loader: false });\n                })\n                .catch(Err => {\n                    if (response.status === 401) {\n                        this.props.history.push(\"/login\");\n                    }\n                    this.setState({ displayErrors: true });\n                    this.setState({ loader: false });\n                })\n        }\n        );\n    }\n\n\n    savePayment = () => {\n        let apiURI = '';\n\n        // apiURI = Config.API.BASE_URL + Config.API.GET_PAYMENTS + this.props.location.data.userId +'/' + this.props.location.data.subscriptionId;\n        apiURI = Config.API.BASE_URL + Config.API.GET_PAYMENTS ;\n        \n        console.log (this.props.location)\n        let userId=  this.props.location.data.userId\n        let subscriptionId =  this.props.location.data.subscriptionId\n        let authHandler = new AuthHandler();\n        let isAuthenticated = authHandler.isAuthenticated();\n\n        let params = {\n            userId: userId,\n            subscriptionId: subscriptionId,\n            amount_authorized : this.state.amount,\n            payment_method : this.state.payment_methord\n        }\n        this.setState({ loader: true });\n        fetch(apiURI, {\n            method: \"POST\",\n            headers: {\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \" + isAuthenticated,\n                \"cache-control\": \"no-cache\"\n            },\n            body: JSON.stringify( params),\n        }).then(response => {\n            response.json()\n                .then(responseJson => {\n\n                    if (response.status === 401) {\n                        this.props.history.push(\"/login\");\n                    }\n                    if (!responseJson.error === null) {\n                        throw responseJson;\n                    }\n                    this.setState({ payment: responseJson.data.payments });\n                    this.getPayments();\n\n                    this.setState({ loader: false });\n                })\n                .catch(Err => {\n                    if (response.status === 401) {\n                        this.props.history.push(\"/login\");\n                    }\n                    this.setState({ displayErrors: true });\n                    this.setState({ loader: false });\n                })\n        }\n        );\n    }\n\n    goToDashboard = event => {\n        const queryString = this.props.location.search;\n\n        this.props.history.push({\n            pathname: \"/\",\n            search: queryString\n        });\n    };\n\n    generate = (element) => {\n        return [0, 1, 2].map((value) =>\n            React.cloneElement(element, {\n                key: value,\n            }),\n        );\n    }\n\n    onChange = (evt) => {\n        this.setState({ amount: evt.target.value })\n    }\n\n    handleChange = (event) => {\n        this.setState({ payment_methord: event.target.value })\n\n    };\n\n    render() {\n        const { classes } = this.props;\n        const userData = this.props.location.data;\n        console.log(userData)\n\n        const currencies = [\n            {\n                label: 'CASH',\n                value: 'cash',\n            },\n            {\n                label: 'NET BANKING',\n                value: 'net_banking',\n            },\n            {\n                label: 'UPI',\n                value: 'upi',\n            }\n        ];\n\n        \n        return (\n            <React.Fragment>\n                <CssBaseline />\n                <div className={classes.root}>\n                    <Grid container justify=\"center\">\n                        <Grid\n                            spacing={1}\n                            alignItems=\"center\"\n                            justify=\"center\"\n                            container\n                            className={classes.grid}\n                        >\n                            <Grid item xs={12}>\n                                <Back />\n                                <div >\n                                    <div >\n                                        <Card className={classes.root}>\n                                            <CardContent>\n                                                <br />\n\n                                                <InputLabel htmlFor=\"input-with-icon-adornment\">Make Payment</InputLabel>\n                                                <Input\n                                                    onChange={this.onChange}\n                                                    id=\"input-with-icon-adornment\"\n                                                    startAdornment={\n                                                        <InputAdornment position=\"start\">\n                                                            <AccountBalanceWalletIcon />\n                                                        </InputAdornment>\n                                                    }\n                                                    value={this.state.amount}\n                                                />\n                                                <br />\n                                                <br />\n                                                <TextField\n                                                    id=\"standard-select-currency\"\n                                                    select\n                                                    label=\"\"\n                                                    value={this.state.payment_methord}\n                                                    onChange={this.handleChange}\n                                                    helperText=\"Please select your payment methord\"\n                                                >\n                                                    {currencies.map((option) => (\n                                                        <MenuItem key={option.value} value={option.value}>\n                                                            {option.label}\n                                                        </MenuItem>\n                                                    ))}\n                                                </TextField>\n                                            </CardContent>\n                                            <CardActions>\n                                                <Button onClick={this.savePayment} size=\"small\" color='primary'> Add Payment</Button>\n                                            </CardActions>\n                                        </Card>\n                                    </div>\n                                </div>\n                                <div >\n                                    <Timeline>\n                                        {this.state.payment.length === 0 &&  \"No Transaction \"}\n                                        {this.state.payment.length > 0 && this.state.payment.map((data) => {\n                                            return (<TimelineItem>\n                                                <TimelineSeparator>\n                                                    <TimelineDot />\n                                                    <TimelineConnector />\n                                                </TimelineSeparator>\n                                                <TimelineContent>\n                                                    <Paper elevation={3} className={classes.paper}>\n                                                        <Typography ><b>Paied Amount : Rs {data.amount_authorized}</b></Typography>\n                                                        <Typography> <Moment  format=\"Do MMM YYYY : hh:mm A\">{data.created_at}</Moment>  </Typography>\n                                                    </Paper>\n                                                </TimelineContent>\n                                            </TimelineItem>)\n                                        })\n                                        }\n                                    </Timeline>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withRouter(withStyles(styles)(Payments));\n"]},"metadata":{},"sourceType":"module"}