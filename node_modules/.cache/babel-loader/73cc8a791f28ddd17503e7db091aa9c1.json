{"ast":null,"code":"var _jsxFileName = \"/home/pranav/sn-agencies/material-sense/src/components/Users.js\";\nimport React, { Component } from \"react\";\nimport withStyles from \"@material-ui/styles/withStyles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CardItem from \"./cards/CardItem\";\nimport Topbar from \"./Topbar\";\nimport SectionHeader from \"./typo/SectionHeader\";\nimport AuthHandler from \"./common/AuthHandler\";\nimport { Config } from \"./common/Config\";\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Paper from '@material-ui/core/Paper'; // const backgroundShape = require(\"../images/shape.svg\");\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.grey[\"a2a2a2\"],\n    overflow: \"hidden\",\n    // background: `url(${backgroundShape}) no-repeat`,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"0 400px\",\n    // marginTop: 20,\n    padding: 20 // paddingBottom: 200\n\n  },\n  grid: {\n    width: 1000\n  },\n  fab: {\n    float: 'right',\n    marginTop: '30%'\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1\n  },\n  iconButton: {\n    padding: 10\n  }\n});\n\nclass Users extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: []\n    };\n\n    this.addNewUser = () => {\n      this.props.history.push(\"/add-user\");\n    };\n  }\n\n  getUsers(param) {\n    // this.checkIsUserLoggedIn();\n    let apiURI = '';\n\n    if (param) {\n      apiURI = Config.API.BASE_URL + Config.API.GET_ALL_CLIENTS + \"?page=\".concat(param.page, \"&per_page=\").concat(param.perPage);\n    } else {\n      apiURI = Config.API.BASE_URL + Config.API.GET_ALL_CLIENTS;\n    }\n\n    let authHandler = new AuthHandler();\n    let isAuthenticated = authHandler.isAuthenticated(); // this.getOrderCount(apiURI)\n\n    this.setState({\n      loader: true\n    });\n    fetch(apiURI, {\n      method: \"GET\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + isAuthenticated,\n        \"cache-control\": \"no-cache\"\n      }\n    }).then(response => {\n      response.json().then(responseJson => {\n        if (response.status === 401) {\n          this.props.history.push(\"/login\");\n        }\n\n        if (!responseJson.error === null) {\n          throw responseJson;\n        }\n\n        console.log(responseJson.data);\n        this.setState({\n          data: responseJson.data\n        });\n        this.setState({\n          _meta: responseJson._meta\n        });\n        this.setState({\n          loader: false\n        });\n      }).catch(Err => {\n        if (response.status === 401) {\n          this.props.history.push(\"/login\");\n        }\n\n        this.setState({\n          displayErrors: true\n        });\n        this.setState({\n          loader: false\n        });\n      });\n    });\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  componentWillMount() {\n    this.getUsers();\n  }\n\n  render() {\n    const classes = this.props.classes;\n    const currentPath = this.props.location.pathname;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Topbar, {\n      currentPath: currentPath,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      spacing: 1,\n      alignItems: \"center\",\n      justify: \"center\",\n      container: true,\n      className: classes.grid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      component: \"form\",\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(InputBase, {\n      className: classes.input,\n      placeholder: \"Search by email \",\n      inputProps: {\n        'aria-label': 'search google maps'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      type: \"submit\",\n      className: classes.iconButton,\n      \"aria-label\": \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(SearchIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(SectionHeader, {\n      title: \"Customers\",\n      subtitle: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(CardItem, {\n      data: this.state.data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Fab, {\n      size: \"small\",\n      color: \"secondary\",\n      \"aria-label\": \"add\",\n      className: classes.fab,\n      onClick: this.addNewUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    })))))));\n  }\n\n}\n\nexport default withStyles(styles)(Users);","map":{"version":3,"sources":["/home/pranav/sn-agencies/material-sense/src/components/Users.js"],"names":["React","Component","withStyles","CssBaseline","Grid","CardItem","Topbar","SectionHeader","AuthHandler","Config","Fab","AddIcon","InputBase","IconButton","SearchIcon","Paper","styles","theme","root","flexGrow","backgroundColor","palette","grey","overflow","backgroundSize","backgroundPosition","padding","grid","width","fab","float","marginTop","input","marginLeft","spacing","flex","iconButton","Users","state","data","addNewUser","props","history","push","getUsers","param","apiURI","API","BASE_URL","GET_ALL_CLIENTS","page","perPage","authHandler","isAuthenticated","setState","loader","fetch","method","headers","then","response","json","responseJson","status","error","console","log","_meta","catch","Err","displayErrors","componentDidMount","window","scrollTo","componentWillMount","render","classes","currentPath","location","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport withStyles from \"@material-ui/styles/withStyles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CardItem from \"./cards/CardItem\";\nimport Topbar from \"./Topbar\";\nimport SectionHeader from \"./typo/SectionHeader\";\nimport  AuthHandler  from \"./common/AuthHandler\";\nimport { Config } from \"./common/Config\";\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Paper from '@material-ui/core/Paper';\n\n// const backgroundShape = require(\"../images/shape.svg\");\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.grey[\"a2a2a2\"],\n    overflow: \"hidden\",\n    // background: `url(${backgroundShape}) no-repeat`,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"0 400px\",\n    // marginTop: 20,\n    padding: 20,\n    // paddingBottom: 200\n  },\n  grid: {\n    width: 1000\n  },\n  fab:{\n    float: 'right',\n    marginTop:'30%'\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n});\n\nclass Users extends Component {\n  state= {\n    data:[]\n  }\n  getUsers(param) {\n    // this.checkIsUserLoggedIn();\n    let apiURI = '';\n    if (param) {\n      apiURI = Config.API.BASE_URL + Config.API.GET_ALL_CLIENTS + `?page=${param.page}&per_page=${param.perPage}`;\n    }\n    else {\n      apiURI = Config.API.BASE_URL + Config.API.GET_ALL_CLIENTS;\n    }\n    let authHandler = new AuthHandler();\n    let isAuthenticated = authHandler.isAuthenticated();\n\n    // this.getOrderCount(apiURI)\n\n    this.setState({ loader: true });\n    fetch(apiURI, {\n      method: \"GET\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + isAuthenticated,\n        \"cache-control\": \"no-cache\"\n      }\n    }).then(response => {\n      response.json()\n        .then(responseJson => {\n\n          if (response.status === 401) {\n            this.props.history.push(\"/login\");\n          }\n          if (!responseJson.error === null) {\n            throw responseJson;\n          }\n          console.log(responseJson.data)\n          this.setState({ data: responseJson.data });\n          this.setState({ _meta: responseJson._meta });\n          this.setState({ loader: false });\n        })\n        .catch(Err => {\n          if (response.status === 401) {\n            this.props.history.push(\"/login\");\n          }\n          this.setState({ displayErrors: true });\n          this.setState({ loader: false });\n        })\n    }\n    );\n  }\n\n  addNewUser = () =>{\n    this.props.history.push(\"/add-user\");\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  componentWillMount(){\n    this.getUsers()\n  }\n\n  render() {\n    const { classes } = this.props;\n    const currentPath = this.props.location.pathname;\n\n    return (\n      <React.Fragment>\n        <CssBaseline />\n        <Topbar currentPath={currentPath} />\n        <div className={classes.root}>\n          <Grid container justify=\"center\">\n            <Grid\n              spacing={1}\n              alignItems=\"center\"\n              justify=\"center\"\n              container\n              className={classes.grid}\n            >\n              <Grid item xs={12}>\n                <Paper component=\"form\" className={classes.root}>\n\n                  <InputBase\n                    className={classes.input}\n                    placeholder=\"Search by email \"\n                    inputProps={{ 'aria-label': 'search google maps' }}\n                  />\n                  <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\">\n                    <SearchIcon />\n                  </IconButton>\n\n                </Paper>\n                <SectionHeader\n                  title=\"Customers\"\n                  subtitle=\"\"\n                />\n\n                <CardItem data={this.state.data}/>\n                <Fab size=\"small\" color=\"secondary\" aria-label=\"add\" className={classes.fab} onClick={this.addNewUser}>\n                  <AddIcon />\n                </Fab>\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withStyles(styles)(Users);\n"]},"metadata":{},"sourceType":"module"}